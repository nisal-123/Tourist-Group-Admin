<!-- Modern Header -->
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
  <div class="container-fluid px-4">
    <!-- Page Title -->
    <div class="d-flex align-items-center">
      <h4 class="navbar-brand mb-0 text-gradient fw-bold" data-aos="fade-right">
        <%= pageTitle || 'Dashboard' %>
      </h4>
      <% if (typeof breadcrumb !== 'undefined' && breadcrumb) { %>
        <nav aria-label="breadcrumb" class="ms-3">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="/" class="text-decoration-none">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page"><%= pageTitle %></li>
          </ol>
        </nav>
      <% } %>
    </div>

    <!-- Header Actions -->
    <div class="navbar-actions">
      <!-- Action Buttons based on page -->
      <% if (currentPage === 'bookings') { %>
        <button class="btn btn-primary me-2" id="newBookingBtn" data-aos="fade-left" data-aos-delay="100">
          <i class="bi bi-plus-lg me-1"></i> New Booking
        </button>
        <button class="btn btn-outline me-2" id="exportBtn" data-aos="fade-left" data-aos-delay="200">
          <i class="bi bi-download me-1"></i> Export
        </button>
      <% } else if (currentPage === 'tour') { %>
        <button class="btn btn-primary me-2" id="newPackageBtn" data-aos="fade-left" data-aos-delay="100">
          <i class="bi bi-plus-lg me-1"></i> New Package
        </button>
        <button class="btn btn-outline me-2" id="exportBtn" data-aos="fade-left" data-aos-delay="200">
          <i class="bi bi-download me-1"></i> Export
        </button>
      <% } else if (currentPage === 'hiking') { %>
        <button class="btn btn-primary me-2" id="newHikingBtn" data-aos="fade-left" data-aos-delay="100">
          <i class="bi bi-plus-lg me-1"></i> New Trail
        </button>
        <button class="btn btn-outline me-2" id="exportBtn" data-aos="fade-left" data-aos-delay="200">
          <i class="bi bi-download me-1"></i> Export
        </button>
      <% } else if (currentPage === 'users') { %>
        <button class="btn btn-primary me-2" id="newUserBtn" data-aos="fade-left" data-aos-delay="100">
          <i class="bi bi-plus-lg me-1"></i> New User
        </button>
        <button class="btn btn-outline me-2" id="exportBtn" data-aos="fade-left" data-aos-delay="200">
          <i class="bi bi-download me-1"></i> Export
        </button>
      <% } else if (currentPage === 'gallery') { %>
        <button class="btn btn-primary me-2" id="uploadImageBtn" data-aos="fade-left" data-aos-delay="100">
          <i class="bi bi-cloud-upload me-1"></i> Upload Image
        </button>
        <button class="btn btn-outline me-2" id="bulkDeleteBtn" data-aos="fade-left" data-aos-delay="200">
          <i class="bi bi-trash me-1"></i> Delete Selected
        </button>
      <% } else { %>
        <!-- Dashboard Controls -->
        <div class="me-3" data-aos="fade-left" data-aos-delay="100">
          <select id="dateRange" class="form-select form-select-sm" aria-label="Date range" style="min-width:160px">
            <option value="30">Last 30 days</option>
            <option value="7">Last 7 days</option>
            <option value="365">Last 12 months</option>
          </select>
        </div>
        <button class="btn btn-outline me-2" id="refreshBtn" data-aos="fade-left" data-aos-delay="200">
          <i class="bi bi-arrow-clockwise me-1"></i> Refresh
        </button>
      <% } %>

      <!-- Notifications -->
      <div class="dropdown me-3" data-aos="fade-left" data-aos-delay="300">
        <button class="btn btn-outline position-relative" id="notificationDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-bell"></i>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            3
          </span>
        </button>
        <ul class="dropdown-menu dropdown-menu-end" style="min-width: 300px;">
          <li class="dropdown-header d-flex justify-content-between align-items-center">
            <span>Notifications</span>
            <small class="text-muted">3 new</small>
          </li>
          <li><hr class="dropdown-divider"></li>
          <li>
            <a class="dropdown-item d-flex align-items-center" href="#">
              <div class="me-3">
                <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">
                  <i class="bi bi-person text-white" style="font-size: 14px;"></i>
                </div>
              </div>
              <div>
                <div class="fw-semibold">New User Registration</div>
                <small class="text-muted">John Doe just registered</small>
              </div>
            </a>
          </li>
          <li>
            <a class="dropdown-item d-flex align-items-center" href="#">
              <div class="me-3">
                <div class="bg-success rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">
                  <i class="bi bi-calendar-check text-white" style="font-size: 14px;"></i>
                </div>
              </div>
              <div>
                <div class="fw-semibold">New Booking</div>
                <small class="text-muted">Paris Tour Package booked</small>
              </div>
            </a>
          </li>
          <li>
            <a class="dropdown-item d-flex align-items-center" href="#">
              <div class="me-3">
                <div class="bg-warning rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">
                  <i class="bi bi-exclamation-triangle text-white" style="font-size: 14px;"></i>
                </div>
              </div>
              <div>
                <div class="fw-semibold">System Alert</div>
                <small class="text-muted">Server maintenance scheduled</small>
              </div>
            </a>
          </li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item text-center" href="#">View all notifications</a></li>
        </ul>
      </div>

      <!-- User Profile Dropdown -->
      <div class="dropdown" data-aos="fade-left" data-aos-delay="400">
        <a href="#" class="user-profile dropdown-toggle" id="userMenu" data-bs-toggle="dropdown" aria-expanded="false">
          <div class="user-avatar">
            <i class="bi bi-person"></i>
          </div>
          <div class="user-info">
            <div class="user-name"><%= user ? user.fullName : 'Admin' %></div>
            <div class="user-role">Administrator</div>
          </div>
        </a>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenu" style="min-width: 200px;">
          <li class="dropdown-header">
          <div class="fw-semibold"><%= user ? user.fullName : 'Admin' %></div>
            <small class="text-muted"><%= user ? user.email : 'admin@tourist.com' %></small>
          </li>
          <li><hr class="dropdown-divider"></li>
          <li>
            <a class="dropdown-item d-flex align-items-center" href="#">
              <i class="bi bi-person me-2"></i> Profile
            </a>
          </li>
          <li>
            <a class="dropdown-item d-flex align-items-center" href="#">
              <i class="bi bi-gear me-2"></i> Settings
            </a>
          </li>
          <li>
            <a class="dropdown-item d-flex align-items-center" href="#">
              <i class="bi bi-question-circle me-2"></i> Help
            </a>
          </li>
          <li><hr class="dropdown-divider"></li>
          <li>
            <a class="dropdown-item d-flex align-items-center text-danger" href="/logout">
              <i class="bi bi-box-arrow-right me-2"></i> Logout
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
